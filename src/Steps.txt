import React from "react";

export function Step1({ onNext }) {
  return (
    <div className="step-content active">
      <div className="preparation-step">
        <h3>ì¹´ë©”ë¼ ì¤€ë¹„í•˜ê¸°</h3>
        <p>ê°ì • ì¸ì‹ì„ ìœ„í•´ ì¹´ë©”ë¼ë¥¼ ì¤€ë¹„í•´ì£¼ì„¸ìš”</p>
        <button className="action-button primary-button" onClick={onNext}>
          ë™ì˜í•˜ê³  ì¹´ë©”ë¼ ì—°ê²°í•˜ê¸°
        </button>
      </div>
    </div>
  );
}

export function Step2({ onNext, videoRef, canvasRef, emotion }) {
  return (
    <div className="step-content active">
      <h3>ì²« ë²ˆì§¸ ê°ì • ì¸¡ì •</h3>
      <div className="camera-emotion-container">
        <div className="webcam-container">
          <video ref={videoRef} autoPlay muted playsInline />
          <canvas className="face-overlay" ref={canvasRef} width="500" height="350" />
        </div>
        <div className="emotion-monitor">
          <h4>ì‹¤ì‹œê°„ ê°ì • ë¶„ì„</h4>
          <div className="current-emotion-display">
            <span className="emotion-emoji-large">{emotion.emoji}</span>
            <div className="emotion-name-large">
              {emotion.name} ({emotion.confidence}%)
            </div>
          </div>
        </div>
      </div>
      <div style={{ textAlign: "center", marginTop: "20px" }}>
        <button className="action-button" onClick={onNext}>
          ê°ì • ì¸¡ì • ì™„ë£Œ
        </button>
      </div>
    </div>
  );
}

export function Step3({ onNext }) {
  return (
    <div className="step-content active">
      <h3>ë§ì¶¤ ì½˜í…ì¸  ê°ìƒ</h3>
      <p>ì•„ë¦„ë‹¤ìš´ ì˜ìƒì„ ê°ìƒí•˜ë©° ê¸°ë¶„ ë³€í™”ë¥¼ ê²½í—˜í•˜ì„¸ìš” ğŸ¬</p>
      <div style={{ textAlign: "center" }}>
        <button className="action-button primary-button" onClick={onNext}>
          ê°ìƒ ì™„ë£Œ
        </button>
      </div>
    </div>
  );
}

export function Step4({ onNext, videoRef2, canvasRef2, emotion }) {
  return (
    <div className="step-content active">
      <h3>ë‘ ë²ˆì§¸ ê°ì • ì¸¡ì •</h3>
      <div className="camera-emotion-container">
        <div className="webcam-container">
          <video ref={videoRef2} autoPlay muted playsInline />
          <canvas className="face-overlay" ref={canvasRef2} width="500" height="350" />
        </div>
        <div className="emotion-monitor">
          <h4>ì‹¤ì‹œê°„ ê°ì • ë¶„ì„</h4>
          <div className="current-emotion-display">
            <span className="emotion-emoji-large">{emotion.emoji}</span>
            <div className="emotion-name-large">
              {emotion.name} ({emotion.confidence}%)
            </div>
          </div>
        </div>
      </div>
      <div style={{ textAlign: "center", marginTop: "20px" }}>
        <button className="action-button" onClick={onNext}>
          ì¸¡ì • ì™„ë£Œ
        </button>
      </div>
    </div>
  );
}

export function FinalResult({ firstResult, secondResult, onRestart }) {
  return (
    <div className="step-content active">
      <h2 style={{ textAlign: "center" }}>í¼ì¦ ì™„ì„±!</h2>
      <p style={{ textAlign: "center" }}>ê°ì • ë³€í™”ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.</p>
      <div
        style={{
          background: "#f0f9ff",
          padding: "20px",
          borderRadius: "15px",
          margin: "20px auto",
          border: "3px solid #0ea5e9",
          width: "400px",
          textAlign: "center",
        }}
      >
        <div>ì¸¡ì • ì „: {firstResult?.emoji} {firstResult?.name} ({firstResult?.confidence}%)</div>
        <div>ì¸¡ì • í›„: {secondResult?.emoji} {secondResult?.name} ({secondResult?.confidence}%)</div>
      </div>
      <div style={{ textAlign: "center", marginTop: "30px" }}>
        <button className="action-button primary-button" onClick={onRestart}>
          ë‹¤ì‹œ ì‹œì‘í•˜ê¸°
        </button>
      </div>
    </div>
  );
}
